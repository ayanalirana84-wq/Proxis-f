
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Proxis - Futuristic Chat</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap');

:root{
  --bg:#0b0c17;
  --glass:rgba(255,255,255,.12);
  --ai:rgba(255,255,255,.08);
  --user:#fff;
  --ripple-color: rgba(255,255,255,0.4);
}

*{box-sizing:border-box;font-family:'Plus Jakarta Sans',sans-serif}
html,body{margin:0;height:100%;background:var(--bg);color:#fff;overflow:hidden}

.app{display:flex;flex-direction:column;height:100vh}

/* HEADER */
header{
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 16px;
  background:var(--glass);
  backdrop-filter:blur(18px) saturate(160%);
  border-bottom:1px solid rgba(255,255,255,.15);
}
.brand{display:flex;gap:10px;align-items:center}
.brand img{
  width:40px;height:40px;border-radius:14px;
  filter:drop-shadow(0 0 10px #fff)
}
.title{font-weight:700;font-size:1.2rem}
.btn{
  position:relative;
  overflow:hidden;
  padding:8px 14px;border-radius:999px;
  border:1px solid rgba(255,255,255,.3);
  background:rgba(255,255,255,.08);
  color:#fff;cursor:pointer;
  transition:transform .15s ease;
}
.btn:active{transform:scale(.95)}

/* CHAT */
#chat-box{
  flex:1;overflow:auto;
  padding:20px 16px 140px;
  scroll-behavior:smooth;
}
.list{
  max-width:960px;margin:auto;
  display:flex;flex-direction:column;gap:14px;
}
.msg{
  max-width:80%;
  padding:16px 18px;
  border-radius:28px;
  backdrop-filter:blur(16px) saturate(160%);
  animation:fade .25s ease;
}
.msg.ai{
  align-self:flex-start;
  background:var(--ai);
  box-shadow:0 0 16px rgba(255,255,255,.15);
}
.msg.user{
  align-self:flex-end;
  background:var(--user);
  color:#000;
  box-shadow:0 0 18px rgba(255,255,255,.4);
}

/* THINKING */
.msg.thinking{
  display:flex;
  align-items:center;
  gap:14px;
  background:rgba(255,255,255,.10);
}
.brain{
  width:34px;height:34px;border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,.2));
  animation:pulse 1.6s infinite;
  box-shadow:0 0 14px rgba(255,255,255,.6);
  position:relative;
}
.brain::after{
  content:"";
  position:absolute;
  inset:-6px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.4);
  animation:ripple 1.6s infinite;
}
.thinking-text{font-weight:600;opacity:.85}

@keyframes pulse{50%{transform:scale(1.15)}}
@keyframes ripple{
  from{opacity:.8;transform:scale(.8)}
  to{opacity:0;transform:scale(1.6)}
}
@keyframes fade{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:none}
}

/* COMPOSER */
.composer{
  position:fixed;left:0;right:0;bottom:0;
  padding:14px 16px;
  background:var(--glass);
  backdrop-filter:blur(20px) saturate(160%);
  border-top:1px solid rgba(255,255,255,.18);
}
@supports(padding:env(safe-area-inset-bottom)){
  .composer{padding-bottom:calc(14px + env(safe-area-inset-bottom))}
}
.input{
  display:flex;align-items:center;gap:10px;
  padding:10px 14px;border-radius:999px;
  background:rgba(255,255,255,.1);
  border:1px solid rgba(255,255,255,.25);
}
input{
  flex:1;border:none;outline:none;
  background:transparent;color:#fff;font-size:16px;
}
.send-btn{
  position:relative;
  width:44px;height:44px;border-radius:50%;
  border:none;background:#fff;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 0 14px rgba(255,255,255,.6);
  overflow:hidden;
  transition:transform .15s ease;
}
.send-btn:active{transform:scale(.95)}
.send-btn svg{width:20px;height:20px;fill:#000}

/* LIQUID GLASS RIPPLE */
.ripple{
  position:absolute;
  border-radius:50%;
  transform:scale(0);
  animation:ripple-animation 0.6s linear;
  background-color: var(--ripple-color);
  pointer-events:none;
}
@keyframes ripple-animation {
  to {
    transform:scale(4);
    opacity:0;
  }
}

/* RESPONSIVE */
@media(max-width:600px){
  .msg{max-width:95%;padding:12px 14px;border-radius:20px}
  .title{font-size:1rem}
  header{padding:10px 12px}
  .composer{padding:10px 12px}
  .input{padding:8px 12px}
}
</style>
</head>

<body>
<div class="app">

<header>
  <div class="brand">
    <img src="Image.jpg">
    <div class="title">Proxis</div>
  </div>
  <button id="clear" class="btn">Clear</button>
</header>

<main id="chat-box">
  <div id="messages" class="list"></div>
</main>

<div class="composer">
  <div class="input">
    <input id="input" placeholder="Ask Proxis anything…" autocomplete="off">
    <button id="send" class="send-btn">
      <svg viewBox="0 0 24 24"><path d="M2 21L23 12 2 3v7l15 2-15 2z"/></svg>
    </button>
  </div>
</div>

<script type="module">
import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";

/* ✅ SYSTEM PROMPT */
const SYSTEM_PROMPT = `
You are Proxis, a Large Language Model by RonzDavil.
Be friendly, natural, and professional.
Give short, clear, and easy-to-understand responses.
Talk about yourself only when asked.
If the user asks for details, then give detailed answers.
`;

const model = new GoogleGenerativeAI(
  "AIzaSyAJo1bZsXJign0c0H0hTr4K8eHT-0IFjBw"
).getGenerativeModel({ model:"gemini-2.5-flash" });

const messagesEl = document.getElementById("messages");
const input = document.getElementById("input");
const sendBtn = document.getElementById("send");
const clearBtn = document.getElementById("clear");
const chatBox = document.getElementById("chat-box");

let memory = JSON.parse(localStorage.getItem("proxis_chat") || "[]");
let thinkingEl = null;
let busy = false;

/* RIPPLE EFFECT */
function createRipple(e) {
  const btn = e.currentTarget;
  const circle = document.createElement("span");
  circle.className = "ripple";
  const rect = btn.getBoundingClientRect();
  circle.style.left = (e.clientX - rect.left) + "px";
  circle.style.top = (e.clientY - rect.top) + "px";
  btn.appendChild(circle);
  setTimeout(()=>circle.remove(),600);
}
document.querySelectorAll(".btn, .send-btn").forEach(b=>b.addEventListener("click",createRipple));

/* RENDER */
function render(){
  messagesEl.innerHTML="";
  memory.forEach(m=>{
    const d=document.createElement("div");
    d.className="msg "+m.role;
    d.textContent=m.text;
    messagesEl.appendChild(d);
  });
  if(thinkingEl) messagesEl.appendChild(thinkingEl);
  chatBox.scrollTop = chatBox.scrollHeight;
}

/* THINKING */
function showThinking(){
  thinkingEl=document.createElement("div");
  thinkingEl.className="msg ai thinking";
  thinkingEl.innerHTML=`<div class="brain"></div><div class="thinking-text">Proxis is thinking…</div>`;
  render();
}
function hideThinking(){ thinkingEl=null; }

/* SEND */
async function send(){
  if(busy) return;
  const text=input.value.trim();
  if(!text) return;

  busy=true;
  input.value="";

  memory.push({role:"user",text});
  localStorage.setItem("proxis_chat",JSON.stringify(memory));
  showThinking();

  try{
    const prompt = SYSTEM_PROMPT + "\n\n" +
      memory.map(m => `${m.role === "user" ? "User" : "Proxis"}: ${m.text}`).join("\n");

    const r = await model.generateContent(prompt);

    hideThinking();
    memory.push({role:"ai",text:r.response.text()});
  }catch{
    hideThinking();
    memory.push({role:"ai",text:"⚠️ Error. Try again."});
  }

  localStorage.setItem("proxis_chat",JSON.stringify(memory));
  busy=false;
  render();
  input.focus();
}

/* EVENTS */
sendBtn.onclick=send;
input.onkeydown=e=>{if(e.key==="Enter"){e.preventDefault();send();}};
clearBtn.onclick=()=>{
  memory=[];
  localStorage.removeItem("proxis_chat");
  render();
};

render();
input.focus();
</script>
</body>
</html>
</html>
